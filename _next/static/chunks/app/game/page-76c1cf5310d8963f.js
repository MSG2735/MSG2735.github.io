(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[925],{82:(e,t,l)=>{Promise.resolve().then(l.bind(l,8010))},8010:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>L});var s=l(5155),a=l(2115),r=l(6046),n=l(1343),i=l(3829),c=l(3478);function d(e){let{card:t,index:l,isDealer:a=!1}=e,{suit:r,rank:n,faceUp:i}=t,d="hearts"===r||"diamonds"===r?"text-red-600":"text-black";if(!i)return(0,s.jsx)(c.P.div,{className:"card card-back bg-white rounded-md shadow-md",style:{width:"95px",height:"135px"},initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*l},children:(0,s.jsx)("div",{className:"h-full grid grid-cols-3 grid-rows-3 gap-1 p-2",children:Array.from({length:9}).map((e,t)=>(0,s.jsx)("div",{className:"bg-red-800 rounded-sm"},t))})});let o=e=>{switch(e){case"hearts":return"♥";case"diamonds":return"♦";case"clubs":return"♣";case"spades":return"♠";default:return""}};return(0,s.jsx)(c.P.div,{className:"card card-front bg-white rounded-md shadow-md",style:{width:"95px",height:"135px"},initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*l},children:(0,s.jsxs)("div",{className:"p-2 flex flex-col h-full justify-between",children:[(0,s.jsxs)("div",{className:"text-lg font-bold ".concat(d," flex justify-between"),children:[(0,s.jsx)("div",{children:n}),(0,s.jsx)("div",{children:o(r)})]}),(0,s.jsx)("div",{className:"text-4xl font-bold ".concat(d," flex justify-center items-center flex-grow"),children:o(r)}),(0,s.jsxs)("div",{className:"text-lg font-bold ".concat(d," flex justify-between rotate-180"),children:[(0,s.jsx)("div",{children:n}),(0,s.jsx)("div",{children:o(r)})]})]})})}let o=e=>{let{hand:t,isDealer:l=!1,currentHand:a=!1}=e,{cards:r,bet:n,isBlackjack:c,isBusted:o,doubleDown:x}=t,{total:u,isSoft:h}=(0,i.Zd)(t);return(0,s.jsxs)("div",{className:"mb-1 flex flex-col items-center",children:[(0,s.jsx)("div",{className:"mb-0.5 text-center",children:(0,s.jsxs)("span",{className:"text-xl font-bold",children:[l?"Dealer":"Your Hand",!l&&n>0&&(0,s.jsxs)("span",{className:"ml-2 text-yellow-400",children:["$",n,x&&" (Double Down)"]})]})}),(0,s.jsxs)("div",{className:"relative",style:{width:"300px",height:"155px"},children:[(0,s.jsx)("div",{className:"absolute inset-0 border-2 ".concat(c?"border-yellow-400":o?"border-red-500":l?a?"border-blue-400":"border-blue-500/70":"border-yellow-500"," rounded-lg flex items-center justify-center p-3 ").concat(l?"bg-blue-900/10":"bg-gradient-to-b from-yellow-900/10 to-yellow-600/5"),children:0===r.length&&(0,s.jsx)("div",{className:"flex h-full w-full items-center justify-center text-white/50",children:l?"Dealer's cards":"Your cards"})}),r.length>0&&(0,s.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 flex justify-center",style:{minWidth:"200px"},children:r.map((e,t)=>(0,s.jsx)("div",{style:{marginLeft:0===t?"0":"-65px",zIndex:r.length-t},children:(0,s.jsx)(d,{card:e,index:t,isDealer:l})},"".concat(e.suit,"-").concat(e.rank,"-").concat(t)))}),r.length>0&&(0,s.jsxs)("div",{className:"absolute -top-4 -right-4 w-16 h-16 rounded-full flex items-center justify-center text-xl font-bold shadow-lg z-50\n              ".concat(o?"bg-red-500":c?"bg-yellow-400 text-black":"bg-white/20"),children:[o?"Bust":u,h&&!o&&"*"]})]}),(0,s.jsxs)("div",{className:"h-8 flex items-center justify-center",children:[c&&(0,s.jsx)("div",{className:"text-xl font-bold text-yellow-400",children:"BLACKJACK!"}),o&&(0,s.jsx)("div",{className:"text-xl font-bold text-red-500",children:"BUSTED!"})]})]})};function x(e){let{value:t,onClick:l,disabled:a=!1}=e,{border:r,background:n,shadowColor:i}=(e=>{switch(e){case 5:return{border:"border-red-800",background:"bg-red-600",shadowColor:"#7f1d1d"};case 10:return{border:"border-blue-800",background:"bg-blue-600",shadowColor:"#1e3a8a"};case 25:return{border:"border-green-800",background:"bg-green-600",shadowColor:"#166534"};case 50:return{border:"border-purple-800",background:"bg-purple-600",shadowColor:"#581c87"};case 100:return{border:"border-amber-800",background:"bg-amber-600",shadowColor:"#92400e"};default:return{border:"border-gray-800",background:"bg-gray-600",shadowColor:"#1f2937"}}})(t);return(0,s.jsxs)(c.P.div,{className:"chip ".concat(r," ").concat(n," text-white w-16 h-16 text-lg font-bold\n        ").concat(a?"opacity-50 cursor-not-allowed":"hover:shadow-lg"),whileTap:a?{}:{scale:.95},onClick:a?void 0:l,style:{boxShadow:a?"none":"0 4px 6px ".concat(i)},children:["$",t]})}function u(){let{gameState:e,dispatch:t,settings:l}=(0,n.I)(),{gamePhase:r,player:d,currentHandIndex:o}=e,[u,h]=(0,a.useState)(0),m="betting"===r,f="playerTurn"===r,b="dealerTurn"===r,p="gameOver"===r,g=f||b,j=d.hands[o],y=f&&j&&(0,i.sN)(j,d.balance,l||{...i.L6,allowDoubleAfterSplit:!0}),w=f&&(0,i.zy)(j)&&d.balance>=j.bet,v=e=>{d.balance>=e&&h(t=>t+e)};return(0,s.jsxs)("div",{className:"w-full max-w-4xl mx-auto",children:[m&&(0,s.jsxs)(c.P.div,{className:"flex flex-col gap-1 w-full h-full justify-end pb-0",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[(0,s.jsx)("div",{className:"flex justify-center gap-3 mb-2",children:[5,10,25,50,100].map(e=>(0,s.jsx)(x,{value:e,onClick:()=>v(e),disabled:d.balance<e},e))}),(0,s.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"number",value:u,onChange:e=>h(Number(e.target.value)),className:"bg-white/10 border border-white/20 rounded-md px-4 py-2 w-32 text-center text-xl",min:0,max:d.balance}),(0,s.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-xl",children:"$"})]}),(0,s.jsx)("button",{className:"btn btn-primary",onClick:()=>{u>0&&u<=d.balance&&(t({type:"PLACE_BET",payload:u}),t({type:"DEAL_INITIAL_CARDS"}),h(0))},disabled:u<=0||u>d.balance,children:"Place Bet"}),(0,s.jsx)("button",{className:"btn btn-secondary",onClick:()=>{h(0)},disabled:u<=0,children:"Clear"})]})]}),g&&(0,s.jsxs)(c.P.div,{className:"flex flex-col gap-4 w-full h-full justify-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[b&&(0,s.jsxs)("div",{className:"text-yellow-500 font-bold mb-1 flex items-center justify-center",children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-yellow-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Dealer is playing..."]}),(0,s.jsxs)("div",{className:"flex justify-center gap-3",children:[(0,s.jsx)("button",{className:"btn btn-primary w-24",onClick:()=>t({type:"HIT"}),disabled:!f,children:"Hit"}),(0,s.jsx)("button",{className:"btn btn-primary w-24",onClick:()=>t({type:"STAND"}),disabled:!f,children:"Stand"}),(0,s.jsx)("button",{className:"btn w-36 ".concat(y?"btn-primary":"btn-disabled"),onClick:y?()=>t({type:"DOUBLE_DOWN"}):void 0,disabled:!y,children:"Double Down"}),(0,s.jsx)("button",{className:"btn w-24 ".concat(w?"bg-orange-500 hover:bg-orange-600 text-white border-orange-600":"btn-disabled"),onClick:w?()=>t({type:"SPLIT"}):void 0,disabled:!w,children:"Split"})]})]}),p&&(0,s.jsx)(c.P.div,{className:"flex justify-center w-full h-full items-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:(0,s.jsx)("button",{className:"btn btn-primary",onClick:()=>t({type:"NEW_GAME"}),children:"New Game"})}),!m&&!g&&!p&&(0,s.jsx)("div",{className:"h-full w-full"})]})}var h=l(4710),m=l(9234),f=l(9656),b=l(7249);class p extends a.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,l=e instanceof HTMLElement&&e.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=l-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function g(e){let{children:t,isPresent:l,anchorX:r}=e,n=(0,a.useId)(),i=(0,a.useRef)(null),c=(0,a.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=(0,a.useContext)(b.Q);return(0,a.useInsertionEffect)(()=>{let{width:e,height:t,top:s,left:a,right:o}=c.current;if(l||!i.current||!e||!t)return;i.current.dataset.motionPopId=n;let x=document.createElement("style");return d&&(x.nonce=d),document.head.appendChild(x),x.sheet&&x.sheet.insertRule('\n          [data-motion-pop-id="'.concat(n,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===r?"left: ".concat(a):"right: ".concat(o),"px !important;\n            top: ").concat(s,"px !important;\n          }\n        ")),()=>{document.head.removeChild(x)}},[l]),(0,s.jsx)(p,{isPresent:l,childRef:i,sizeRef:c,children:a.cloneElement(t,{ref:i})})}let j=e=>{let{children:t,initial:l,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:c,mode:d,anchorX:o}=e,x=(0,m.M)(y),u=(0,a.useId)(),h=(0,a.useCallback)(e=>{for(let t of(x.set(e,!0),x.values()))if(!t)return;n&&n()},[x,n]),b=(0,a.useMemo)(()=>({id:u,initial:l,isPresent:r,custom:i,onExitComplete:h,register:e=>(x.set(e,!1),()=>x.delete(e))}),c?[Math.random(),h]:[r,h]);return(0,a.useMemo)(()=>{x.forEach((e,t)=>x.set(t,!1))},[r]),a.useEffect(()=>{r||x.size||!n||n()},[r]),"popLayout"===d&&(t=(0,s.jsx)(g,{isPresent:r,anchorX:o,children:t})),(0,s.jsx)(f.t.Provider,{value:b,children:t})};function y(){return new Map}var w=l(5087);let v=e=>e.key||"";function N(e){let t=[];return a.Children.forEach(e,e=>{(0,a.isValidElement)(e)&&t.push(e)}),t}var k=l(5403);let C=e=>{let{children:t,custom:l,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:c="sync",propagate:d=!1,anchorX:o="left"}=e,[x,u]=(0,w.xQ)(d),f=(0,a.useMemo)(()=>N(t),[t]),b=d&&!x?[]:f.map(v),p=(0,a.useRef)(!0),g=(0,a.useRef)(f),y=(0,m.M)(()=>new Map),[C,P]=(0,a.useState)(f),[E,L]=(0,a.useState)(f);(0,k.E)(()=>{p.current=!1,g.current=f;for(let e=0;e<E.length;e++){let t=v(E[e]);b.includes(t)?y.delete(t):!0!==y.get(t)&&y.set(t,!1)}},[E,b.length,b.join("-")]);let M=[];if(f!==C){let e=[...f];for(let t=0;t<E.length;t++){let l=E[t],s=v(l);b.includes(s)||(e.splice(t,0,l),M.push(l))}return"wait"===c&&M.length&&(e=M),L(N(e)),P(f),null}let{forceRender:D}=(0,a.useContext)(h.L);return(0,s.jsx)(s.Fragment,{children:E.map(e=>{let t=v(e),a=(!d||!!x)&&(f===E||b.includes(t));return(0,s.jsx)(j,{isPresent:a,initial:(!p.current||!!r)&&void 0,custom:l,presenceAffectsLayout:i,mode:c,onExitComplete:a?void 0:()=>{if(!y.has(t))return;y.set(t,!0);let e=!0;y.forEach(t=>{t||(e=!1)}),e&&(null==D||D(),L(g.current),d&&(null==u||u()),n&&n())},anchorX:o,children:e},t)})})};function P(){let{gameState:e,gameStats:t}=(0,n.I)(),{message:l,gamePhase:r,player:i,gameResult:d}=e,{wins:o,losses:x,pushes:u,blackjacks:h,winRate:m,profit:f}=t,[b,p]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{p("false"!==localStorage.getItem("blackjack-displayBalance"))},[]),(0,s.jsxs)("div",{className:"w-full max-w-4xl mx-auto mb-2",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)(C,{mode:"wait",children:(0,s.jsx)(c.P.div,{className:"text-2xl font-bold ".concat((()=>{if(!d)return l.toLowerCase().includes("split")||l.toLowerCase().includes("playing")&&l.toLowerCase().includes("hand")?"text-orange-500":l.toLowerCase().includes("(+$")?"text-green-500":l.toLowerCase().includes("(-$")?"text-red-500":l.toLowerCase().includes("push")?"text-yellow-500":"text-white";switch(d){case"win":case"blackjack":return"text-green-500";case"lose":return"text-red-500";case"push":return"text-yellow-500";default:return"text-white"}})()),initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},children:l},l)}),b&&(0,s.jsx)(c.P.div,{className:"flex gap-2 items-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:(0,s.jsxs)("div",{className:"bg-yellow-500 text-black px-4 py-2 rounded-lg flex items-center gap-2",children:[(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:[(0,s.jsx)("path",{d:"M12 7.5a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5z"}),(0,s.jsx)("path",{fillRule:"evenodd",d:"M1.5 4.875C1.5 3.839 2.34 3 3.375 3h17.25c1.035 0 1.875.84 1.875 1.875v9.75c0 1.036-.84 1.875-1.875 1.875H3.375A1.875 1.875 0 011.5 14.625v-9.75zM8.25 9.75a3.75 3.75 0 117.5 0 3.75 3.75 0 01-7.5 0zM18.75 9a.75.75 0 00-.75.75v.008c0 .414.336.75.75.75h.008a.75.75 0 00.75-.75V9.75a.75.75 0 00-.75-.75h-.008zM4.5 9.75A.75.75 0 015.25 9h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75H5.25a.75.75 0 01-.75-.75V9.75z",clipRule:"evenodd"}),(0,s.jsx)("path",{d:"M2.25 18a.75.75 0 000 1.5c5.4 0 10.63.722 15.6 2.075 1.19.324 2.4-.558 2.4-1.82V18.75a.75.75 0 00-.75-.75H2.25z"})]}),(0,s.jsxs)("span",{className:"text-xl font-bold",children:["$",i.balance]})]})})]}),(0,s.jsxs)("div",{className:"mt-2 grid grid-cols-5 gap-3 bg-black/20 p-3 rounded-lg",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-sm text-gray-400",children:"Wins"}),(0,s.jsx)("div",{className:"text-xl font-bold text-green-500",children:o})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-sm text-gray-400",children:"Losses"}),(0,s.jsx)("div",{className:"text-xl font-bold text-red-500",children:x})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-sm text-gray-400",children:"Blackjacks"}),(0,s.jsx)("div",{className:"text-xl font-bold text-yellow-500",children:h})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-sm text-gray-400",children:"Win Rate"}),(0,s.jsxs)("div",{className:"text-xl font-bold",children:[m.toFixed(1),"%"]})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-sm text-gray-400",children:"Profit"}),(0,s.jsx)("div",{className:"text-xl font-bold ".concat(f>=0?"text-green-500":"text-red-500"),children:f>=0?"+$"+f:"-$"+Math.abs(f)})]})]})]})}function E(){let{gameState:e}=(0,n.I)(),{dealer:t,player:l,currentHandIndex:a,gamePhase:r,gameResult:i}=e,d=()=>{if("betting"===r)return"Place Your Bet";if("gameOver"!==r||!i)return"Good Luck!";switch(i){case"blackjack":return"Blackjack!";case"win":return"You Win!";case"lose":return"Dealer Wins";case"push":return"Push - Tie Game";default:return"Game Over"}};return(0,s.jsx)(c.P.div,{className:"w-full max-w-4xl mx-auto bg-black/30 p-4 rounded-xl backdrop-blur-sm shadow-xl",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,s.jsxs)("div",{className:"flex flex-col gap-2 min-h-[650px]",children:[(0,s.jsx)(P,{}),(0,s.jsx)("div",{className:"p-3 rounded-lg bg-black/20 border border-yellow-500/50",children:(0,s.jsx)(o,{hand:t,isDealer:!0})}),(0,s.jsx)("div",{className:"border-t-4 border-dotted border-yellow-500/30 relative flex justify-center items-center py-1",children:(0,s.jsx)(c.P.div,{className:"".concat((()=>{if("gameOver"!==r||!i)return"bg-yellow-500";switch(i){case"blackjack":return"bg-yellow-400";case"win":return"bg-green-500";case"lose":return"bg-red-500";case"push":return"bg-blue-500";default:return"bg-yellow-500"}})()," text-black px-6 py-1 rounded-full font-bold text-center shadow-lg mt-1"),initial:{scale:.8},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30},children:d()},d())}),(0,s.jsx)("div",{className:"p-3 rounded-lg bg-black/20 border border-yellow-500/50 mb-0",children:2===l.hands.length?(0,s.jsx)("div",{className:"flex flex-row justify-center gap-4",children:l.hands.map((e,t)=>(0,s.jsx)(o,{hand:e,currentHand:t===a&&"playerTurn"===r},t))}):(0,s.jsx)("div",{className:"flex flex-col items-center",children:l.hands.map((e,t)=>(0,s.jsx)(o,{hand:e,currentHand:t===a&&"playerTurn"===r},t))})}),(0,s.jsx)("div",{className:"h-[160px] flex items-center justify-center",children:(0,s.jsx)(u,{})})]})})}function L(){let e=(0,r.useRouter)(),[t,l]=(0,a.useState)(!1),[n,i]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{localStorage.getItem("blackjack-username")?l(!0):e.push("/login"),i(!1)},[e]),n)?(0,s.jsx)("div",{className:"w-full max-w-6xl mx-auto pt-4 pb-[7rem] px-4 flex justify-center items-center min-h-[50vh]",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("svg",{className:"animate-spin h-10 w-10 text-yellow-400 mx-auto mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,s.jsx)("p",{className:"text-lg",children:"Loading game..."})]})}):t?(0,s.jsx)("div",{className:"w-full max-w-6xl mx-auto pt-8 pb-[7rem] px-4",children:(0,s.jsx)(E,{})}):null}}},e=>{var t=t=>e(e.s=t);e.O(0,[478,767,343,441,587,358],()=>t(82)),_N_E=e.O()}]);