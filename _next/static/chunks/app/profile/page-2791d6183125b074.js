(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{2303:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var t=a(5155),l=a(1343),i=a(3478),d=a(2115),r=a(8173),c=a.n(r),n=a(1649),x=a(6046);function o(){let{gameState:e,gameStats:s,matchHistory:a,purchaseHistory:r,dispatch:o}=(0,l.I)(),{player:m}=e,{wins:h,losses:b,pushes:p,blackjacks:u,winRate:g,profit:j}=s,N=(0,x.useRouter)(),[y,v]=(0,d.useState)(100),[f,w]=(0,d.useState)(!1),[k,S]=(0,d.useState)(!1),[C,P]=(0,d.useState)(""),[A,D]=(0,d.useState)(null),[L,T]=(0,d.useState)(!1);(0,d.useEffect)(()=>{T(!0);let e=localStorage.getItem("blackjack-username");e?D(e):N.push("/login")},[N]);let E=e=>{switch(e){case"win":return"text-green-500";case"blackjack":return"text-yellow-500";case"push":return"text-blue-500";case"lose":return"text-red-500";default:return"text-white"}},_=(e,s)=>(0,t.jsxs)("span",{className:"hearts"===s||"diamonds"===s?"text-red-500":"text-white",children:[e,{hearts:"♥",diamonds:"♦",clubs:"♣",spades:"♠"}[s]||""]});return L?(0,t.jsx)("div",{className:"w-full max-w-4xl mx-auto py-8 px-4",children:(0,t.jsxs)(i.P.div,{className:"bg-black/30 p-6 rounded-xl backdrop-blur-sm shadow-xl relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,t.jsxs)("div",{className:"absolute top-6 right-6",children:[(0,t.jsxs)(i.P.button,{className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all duration-300 ".concat(k?"bg-red-600 text-white shadow-lg shadow-red-600/30":"bg-black/40 text-white hover:bg-black/60 border border-yellow-500/30 hover:border-yellow-500/50"),onClick:()=>{k?(o({type:"RESET_ALL_DATA"}),o({type:"RESET_STATS"}),o({type:"CLEAR_HISTORY"}),localStorage.clear(),N.push("/login")):S(!0)},whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"})}),k?"Confirm Logout":"Logout"]}),k&&(0,t.jsx)(i.P.p,{className:"text-red-500 mt-2 text-sm absolute right-0 bg-black/60 px-3 py-1 rounded-md shadow-md",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:"Warning: This will reset ALL your game data including your username. Click again to confirm logout."})]}),(0,t.jsx)("h1",{className:"text-3xl font-bold mb-6 border-b border-white/20 pb-4",children:"My Profile"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,t.jsx)("div",{className:"col-span-1",children:(0,t.jsxs)("div",{className:"bg-black/40 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,t.jsx)("div",{className:"bg-yellow-500 text-black p-3 rounded-full",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-8 h-8",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 01-.437-.695z",clipRule:"evenodd"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:A||"Player"}),(0,t.jsxs)("p",{className:"text-gray-400",children:["Player ID: ",m.id]})]})]}),(0,t.jsxs)("div",{className:"bg-black/30 rounded-lg p-4 mb-6",children:[(0,t.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Current Balance"}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-yellow-400",children:["$",m.balance]})]}),(0,t.jsxs)("div",{className:"border-t border-white/10 pt-4",children:[(0,t.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Add Funds"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[100,200,500,1e3].map(e=>(0,t.jsxs)("button",{className:"px-3 py-1 rounded text-sm ".concat(y===e?"bg-yellow-500 text-black font-bold":"bg-white/10"),onClick:()=>v(e),children:["$",e]},e))}),(0,t.jsxs)("button",{className:"btn btn-primary w-full",onClick:()=>{o({type:"ADD_FUNDS",payload:y}),P("Funds added successfully! (Demo mode)"),w(!0),setTimeout(()=>w(!1),3e3)},children:["Add $",y]}),f&&(0,t.jsx)(i.P.p,{className:"text-green-500 mt-2 text-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:C})]}),(0,t.jsxs)("div",{className:"border-t border-white/10 pt-4 mt-4",children:[(0,t.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Purchase History"}),0===r.length?(0,t.jsx)("div",{className:"text-center py-2 text-gray-400",children:(0,t.jsx)("p",{children:"No purchase history yet."})}):(0,t.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:r.map(e=>(0,t.jsxs)(i.P.div,{className:"bg-black/30 rounded-lg p-4 border-l-4 border-yellow-500 border-opacity-70",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.2},children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,t.jsxs)("div",{className:"text-green-500 font-bold text-lg",children:["+$",e.amount]}),(0,t.jsx)("div",{className:"bg-black/20 px-2 py-1 rounded text-gray-400 text-xs",children:e.date instanceof Date?(0,n.m)(e.date,{addSuffix:!0}):(0,n.m)(new Date(e.date),{addSuffix:!0})})]}),(0,t.jsxs)("div",{className:"text-xs text-gray-400",children:["Transaction ID: ",e.id.substring(0,8)]})]},e.id))})]})]})}),(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Game Statistics"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"bg-black/40 rounded-lg p-4",children:[(0,t.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Total Games"}),(0,t.jsx)("div",{className:"text-3xl font-bold",children:h+b+p})]}),(0,t.jsxs)("div",{className:"bg-black/40 rounded-lg p-4",children:[(0,t.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Wins"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-green-500",children:h})]}),(0,t.jsxs)("div",{className:"bg-black/40 rounded-lg p-4",children:[(0,t.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Losses"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-red-500",children:b})]}),(0,t.jsxs)("div",{className:"bg-black/40 rounded-lg p-4",children:[(0,t.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Pushes"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-blue-500",children:p})]}),(0,t.jsxs)("div",{className:"bg-black/40 rounded-lg p-4",children:[(0,t.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Blackjacks"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-yellow-500",children:u})]}),(0,t.jsxs)("div",{className:"bg-black/40 rounded-lg p-4",children:[(0,t.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Win Rate"}),(0,t.jsxs)("div",{className:"text-3xl font-bold",children:[g.toFixed(1),"%"]})]})]}),(0,t.jsx)("div",{className:"bg-black/40 rounded-lg p-6 mb-6",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Total Profit/Loss"}),(0,t.jsx)("div",{className:"text-3xl font-bold ".concat(j>=0?"text-green-500":"text-red-500"),children:j>=0?"+$"+j:"-$"+Math.abs(j)})]}),(0,t.jsxs)("div",{className:"text-sm ".concat(j>=0?"text-green-500":"text-red-500"),children:[j>=0?"▲":"▼"," ",Math.abs(j/(h+b+p||1)).toFixed(2)," per game"]})]})}),(0,t.jsxs)("div",{className:"bg-black/40 rounded-lg p-6 mb-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Match History"}),0===a.length?(0,t.jsx)("div",{className:"text-center py-8 text-gray-400",children:(0,t.jsx)("p",{children:"No match history yet. Play some games to see your history here!"})}):(0,t.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:a.map(e=>(0,t.jsxs)(i.P.div,{className:"bg-black/30 rounded-lg p-4 border-l-4 border-opacity-70",style:{borderColor:"win"===e.result?"#10B981":"blackjack"===e.result?"#F59E0B":"push"===e.result?"#3B82F6":"#EF4444"},initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("span",{className:"font-bold capitalize ".concat(E(e.result)),children:"blackjack"===e.result?"Blackjack!":e.result}),(0,t.jsx)("span",{className:"text-gray-400 text-sm ml-2",children:e.date instanceof Date?(0,n.m)(e.date,{addSuffix:!0}):(0,n.m)(new Date(e.date),{addSuffix:!0})})]}),(0,t.jsxs)("div",{className:"font-bold ".concat(e.profit>=0?"text-green-500":"text-red-500"),children:[e.profit>=0?"+":"",e.profit]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Your Hand"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.playerCards.map((e,s)=>(0,t.jsx)("div",{className:"bg-white/10 px-2 py-1 rounded text-sm",children:_(e.rank,e.suit)},s))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Dealer's Hand"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.dealerCards.map((e,s)=>(0,t.jsx)("div",{className:"bg-white/10 px-2 py-1 rounded text-sm",children:_(e.rank,e.suit)},s))})]})]}),(0,t.jsxs)("div",{className:"mt-3 text-sm",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Bet: "}),(0,t.jsxs)("span",{className:"font-medium",children:["$",e.bet]}),(0,t.jsx)("span",{className:"text-gray-400 ml-4",children:"Payout: "}),(0,t.jsxs)("span",{className:"font-medium",children:["$",e.payout]})]})]},e.id))})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,t.jsx)(c(),{href:"/game",children:(0,t.jsx)("button",{className:"btn btn-primary",children:"Play Game"})}),(0,t.jsx)(c(),{href:"/settings",children:(0,t.jsx)("button",{className:"btn btn-secondary",children:"Game Settings"})}),f&&(0,t.jsx)(i.P.p,{className:"text-green-500 mt-2 text-sm w-full",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:C})]})]})]})]})}):(0,t.jsx)("div",{className:"w-full max-w-4xl mx-auto py-8 px-4",children:(0,t.jsx)("div",{className:"bg-black/30 p-6 rounded-xl backdrop-blur-sm shadow-xl",children:(0,t.jsx)("div",{className:"flex justify-center items-center min-h-[50vh]",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("svg",{className:"animate-spin h-10 w-10 text-yellow-400 mx-auto mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,t.jsx)("p",{className:"text-lg",children:"Loading profile..."})]})})})})}},5111:(e,s,a)=>{Promise.resolve().then(a.bind(a,2303))}},e=>{var s=s=>e(e.s=s);e.O(0,[478,767,649,343,441,587,358],()=>s(5111)),_N_E=e.O()}]);